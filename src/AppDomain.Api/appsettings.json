{
  "AllowedHosts": "*",
  "ConnectionStrings": {
    // NOTE: Username and Password are managed via user-secrets (dotnet user-secrets).
    // Do not add credentials here. See: https://learn.microsoft.com/aspnet/core/security/app-secrets
    "AppDomainDb": "Host=localhost;Port=54320;Database=app_domain;Maximum Pool Size=100;Minimum Pool Size=5;Connection Idle Lifetime=60;",
    "ServiceBus": "Host=localhost;Port=54320;Database=service_bus;Maximum Pool Size=100;Minimum Pool Size=5;Connection Idle Lifetime=60;"
    //#if (INCLUDE_KAFKA)
    ,"Messaging": "localhost:9092"
    //#endif
    //#if (INCLUDE_ORLEANS)
    ,"Orleans": "UseDevelopmentStorage=true"
    //#endif
  },
  //#if (INCLUDE_ORLEANS)
  "Orleans": {
    "Clustering": {
      "ProviderType": "AzureTableStorage"
    }
  },
  //#endif
  "Aspire": {
    //#if (INCLUDE_ORLEANS)
    "Azure:Data:Tables:DisableTracing": true,
    "Azure:Orleans:DisableTracing": true,
    //#endif
    "Npgsql:DisableHealthChecks": true,
    "Npgsql:DisableTracing": true
  },
  "OpenTelemetry": {
    "SamplingRate": 0.1
  },
  "HttpResilience": {
    "Retry": {
      "MaxRetryAttempts": 3,
      "Delay": "00:00:02",
      "BackoffType": "Exponential"
    },
    "TotalRequestTimeout": {
      "Timeout": "00:01:30"
    },
    "AttemptTimeout": {
      "Timeout": "00:00:30"
    },
    "CircuitBreaker": {
      "SamplingDuration": "00:01:00",
      "FailureRatio": 0.5,
      "MinimumThroughput": 5,
      "BreakDuration": "00:00:30"
    }
  },
  "HttpLogging": {
    "Enabled": false
  },
  "RateLimiting": {
    "Enabled": true,
    "Fixed": {
      "Window": "00:01:00",
      "PermitLimit": 100,
      "QueueLimit": 10,
      "QueueProcessingOrder": "OldestFirst"
    }
  },
  "JsonOptions": {
    "DefaultIgnoreCondition": "WhenWritingNull"
  }
  //#if (INCLUDE_BFF)
  ,"Cors": {
    "AllowedOrigins": ["https://localhost:3000"],
    "AllowedMethods": ["GET", "POST", "PUT", "DELETE"],
    "AllowedHeaders": ["Content-Type", "Authorization"],
    "AllowCredentials": true
  },
  "SecurityHeaders": {
    "ContentSecurityPolicy": "default-src 'self'"
  }
  //#endif
}
